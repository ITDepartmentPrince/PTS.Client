<!--<mat-form-field>
  <mat-label>Filter</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
</mat-form-field>-->
<div class="alert alert-light" role="alert">
  <div>
    <div style="font-size: 1.3rem; margin-bottom: 0.2rem;">In stock</div>
    <div class="d-flex">
      <div style="font-size: 1.5rem; font-weight: bold; margin-right: 0.5rem;">{{inStock()}}</div>
      <div style="font-size: 1.3rem;">unit</div>
    </div>
  </div>
</div>

<div class="data-table-container">
  <div class="data-table" tabindex="0">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="MovementDate">
        <th mat-header-cell *matHeaderCellDef [resizeColumn]="true">
        <span class="cell-data">
          <span>Movement date</span>
          <span class="search-container">
            <app-column-search column="MovementDate"
                               [value]="searchValue"
                               (search)="onSearch($event)"
                               highlightOnSearch
                               type="date">
            </app-column-search>
          </span>
        </span>
        </th>
        <td mat-cell *matCellDef="let row">
          <span>{{row["movementDate"] | date:'short'}}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="CausedBy">
        <th mat-header-cell *matHeaderCellDef [resizeColumn]="true">
        <span class="cell-data">
          <span>Caused by</span>
          <span class="search-container">
            <app-column-search column="CausedBy"
                               [value]="searchValue"
                               (search)="onSearch($event)"
                               highlightOnSearch>
            </app-column-search>
          </span>
        </span>
        </th>
        <td mat-cell *matCellDef="let row">
          <span><a [routerLink]="row['causedByLink']">{{row["causedBy"]}}</a></span>
        </td>
      </ng-container>

      <ng-container matColumnDef="Qty">
        <th mat-header-cell *matHeaderCellDef [resizeColumn]="true">
        <span class="cell-data">
          <span>Quantity changed</span>
          <span class="search-container">
            <app-column-search column="Qty"
                               [value]="searchValue"
                               (search)="onSearch($event)"
                               highlightOnSearch>
            </app-column-search>
          </span>
        </span>
        </th>
        <td mat-cell *matCellDef="let row">
          <span>{{row["qty"] | number}}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="BalanceAfter">
        <th mat-header-cell *matHeaderCellDef [resizeColumn]="true">
        <span class="cell-data">
          <span>Balance after</span>
          <span class="search-container">
            <app-column-search column="BalanceAfter"
                               [value]="searchValue"
                               (search)="onSearch($event)"
                               highlightOnSearch>
            </app-column-search>
          </span>
        </span>
        </th>
        <td mat-cell *matCellDef="let row">
          <span>{{row["balancedAfter"] | number}}</span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell datatable-no-data"
            [colSpan]="displayedColumns.length"
            *ngIf="!isLoading">No data available in table
        </td>
      </tr>
    </table>
    <div *ngIf="isLoading" class="spinner-container-wrapper">
      <div class="spinner-container">
        <app-loading-spinner></app-loading-spinner>
      </div>
    </div>
  </div>
</div>
